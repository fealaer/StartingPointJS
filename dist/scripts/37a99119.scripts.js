"use strict";angular.module("LocalStorageModule").value("prefix","startingPointJsApp"),angular.module("startingPointJsApp",["ngCookies","ngResource","ngSanitize","ngRoute","LocalStorageModule","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/users",{templateUrl:"views/users.html",controller:"UsersCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("startingPointJsApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=[{name:"Yeoman",description:"It's a workflow; a collection of tools and best practices working in harmony to make developing for the web even better."},{name:"Grunt",description:"The JavaScript Task Runner."},{name:"Bower",description:"A package manager for the web"},{name:"AngularJS",description:"AngularJS is a toolset for building the framework most suited to your application development."},{name:"jQuery",description:"jQuery is a fast, small, and feature-rich JavaScript library."},{name:"HTML5 Boilerplate",description:"HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites."},{name:"Bootstrap",description:"Sleek, intuitive, and powerful mobile first front-end framework for faster and easier web development."},{name:"NodeJS",description:"Node.js is a platform built on Chrome's JavaScript runtime for easily building fast, scalable network applications."},{name:"ExpressJS",description:"ExpressJS is a web application framework for node."},{name:"MongoDB",description:"MongoDB is a cross-platform document-oriented NoSQL database system."},{name:"Mongoose",description:"Mongoose is a MongoDB object modeling tool designed to work in an asynchronous environment."},{name:"Karma",description:"Spectacular Test Runner for JavaScript."},{name:"Mocha",description:"Mocha is a feature-rich JavaScript test framework running on node.js and the browser, making asynchronous testing simple and fun."}]}]),angular.module("startingPointJsApp").controller("UsersCtrl",["$scope","Users","Quotes","Auth",function(a,b,c,d){a.user=d.getUser(),d.subscribe(a,function(){a.user=d.getUser()}),a.users=[],b.get().$promise.then(function(b){200===b.status.code&&(a.users=b.result)}),a.addQuote=function(b){b.userId=a.user._id;var d=new c(b);d.$save().then(function(c){if(200===c.status.code&&1===c.result.recordsAffected){for(var d=0;d<a.users.length;d++)if(a.users[d]._id===b.userId){a.users[d].quotes.push(b.quotes);break}a.data={}}})}}]),angular.module("startingPointJsApp").controller("AuthCtrl",["$scope","$modal","Auth",function(a,b,c){a.user=c.getUser(),c.subscribe(a,function(){a.user=c.getUser()}),a.signOutBtn=function(){c.signOut(function(b){b&&(a.error=b)})},a.signInBtn=function(){b.open({templateUrl:"views/authModal.html",controller:"AuthModalCtrl"})}}]),angular.module("startingPointJsApp").controller("AuthModalCtrl",["$scope","$modalInstance","Auth",function(a,b,c){var d={error:!1};a.error=d,a.data={},a.signIn=function(d){c.signIn(d,function(c,d){c?a.error={error:!0,message:c.message}:b.close(d)})},a.cancel=function(){b.dismiss("cancel")},a.$watch("data",function(){a.error=d},!0)}]),angular.module("startingPointJsApp").directive("topMenu",["$location","Menu",function(a,b){return{restrict:"A",transclude:!0,controller:["$scope",function(c){var d=c.menuItems=b.get();angular.forEach(d,function(b){b.link===a.path()&&(b.selected=!0)}),c.select=function(a){angular.forEach(d,function(a){a.selected=!1}),a.selected=!0}}],templateUrl:"views/topMenu.html"}}]),angular.module("startingPointJsApp").factory("Users",["$resource",function(a){return a("api/v0/users",{},{})}]),angular.module("startingPointJsApp").service("Menu",function a(){a.prototype.get=function(){return[{link:"/",title:"Home"},{link:"/users",title:"Users"}]}}),angular.module("startingPointJsApp").service("Auth",["$rootScope","$http","localStorageService",function b(a,c,d){this.eventName="Auth.changes",b.prototype.getUser=function(){return d.get("user")},b.prototype.signIn=function(a,e){c.post("/signin",a).success(function(a){200!==a.status.code?e(a.error,null):(e(null,a.result),d.set("user",a.result),b.prototype.broadcast())})},b.prototype.signOut=function(a){c.post("/signout").success(function(c){200!==c.status.code?a(c.error,null):(a(null,c.result),d.clearAll(),b.prototype.broadcast())})},b.prototype.subscribe=function(a,c){a.$on(b.eventName,c)},b.prototype.broadcast=function(){a.$broadcast(b.eventName)}}]),angular.module("startingPointJsApp").factory("Quotes",["$resource",function(a){return a("api/v0/users/:userId/quotes",{userId:"@userId"})}]);